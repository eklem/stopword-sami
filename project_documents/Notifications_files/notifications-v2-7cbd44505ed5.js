"use strict";(()=>{var ct=Object.defineProperty;var n=(I,E)=>ct(I,"name",{value:E,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["notifications-v2"],{65935:(I,E,u)=>{u.d(E,{AC:()=>A,rK:()=>p,uT:()=>_});function l(s,a){const h=s.createElement("template");return h.innerHTML=a,s.importNode(h.content,!0)}n(l,"parseHTML");function v(s){const a=new URLSearchParams,h=new FormData(s).entries();for(const[w,j]of[...h])a.append(w,j.toString());return a.toString()}n(v,"serialize");class y extends Error{constructor(a,h){super(a);this.response=h}}n(y,"ErrorWithResponse");function S(){let s,a;return[new Promise(function(w,j){s=w,a=j}),s,a]}n(S,"makeDeferred");let o;const r=[],g=[];function _(s){r.push(s)}n(_,"afterRemote");function p(s){g.push(s)}n(p,"beforeRemote");function A(s,a){o||(o=new Map,document.addEventListener("submit",M));const h=o.get(s)||[];o.set(s,[...h,a])}n(A,"remoteForm");function T(s,a){if(o){const h=o.get(s)||[];o.set(s,h.filter(w=>w!==a))}}n(T,"remoteUninstall");function R(s){const a=[];for(const h of o.keys())if(s.matches(h)){const w=o.get(h)||[];a.push(...w)}return a}n(R,"getMatches");function M(s){if(!(s.target instanceof HTMLFormElement))return;const a=s.target,h=R(a);if(h.length===0)return;const w=e(a),[j,O,D]=S();s.preventDefault(),i(h,a,w,j).then(async L=>{if(L){for(const k of g)await k(a);d(w).then(O,D).catch(()=>{}).then(()=>{for(const k of r)k(a)})}else a.submit()},L=>{a.submit(),setTimeout(()=>{throw L})})}n(M,"handleSubmit");async function i(s,a,h,w){let j=!1;for(const O of s){const[D,L]=S(),k=n(()=>(j=!0,L(),w),"kick"),H={text:k,json:()=>(h.headers.set("Accept","application/json"),k()),html:()=>(h.headers.set("Accept","text/html"),k())};await Promise.race([D,O(a,H,h)])}return j}n(i,"processHandlers");function e(s){const a={method:s.method||"GET",url:s.action,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:null};if(a.method.toUpperCase()==="GET"){const h=v(s);h&&(a.url+=(~a.url.indexOf("?")?"&":"?")+h)}else a.body=new FormData(s);return a}n(e,"buildRequest");async function d(s){const a=await window.fetch(s.url,{method:s.method,body:s.body!==null?s.body:void 0,headers:s.headers,credentials:"same-origin"}),h={url:a.url,status:a.status,statusText:a.statusText,headers:a.headers,text:"",get json(){const j=this,O=JSON.parse(j.text);return delete j.json,j.json=O,j.json},get html(){const j=this;return delete j.html,j.html=l(document,j.text),j.html}},w=await a.text();if(h.text=w,a.ok)return h;throw new y("request failed",h)}n(d,"remoteSubmit")},97261:(I,E,u)=>{u.d(E,{S:()=>S});function l(o){const r=document.querySelectorAll(o);if(r.length>0)return r[r.length-1]}n(l,"queryLast");function v(){const o=l("meta[name=analytics-location]");return o?o.content:window.location.pathname}n(v,"pagePathname");function y(){const o=l("meta[name=analytics-location-query-strip]");let r="";o||(r=window.location.search);const g=l("meta[name=analytics-location-params]");g&&(r+=(r?"&":"?")+g.content);for(const _ of document.querySelectorAll("meta[name=analytics-param-rename]")){const p=_.content.split(":",2);r=r.replace(new RegExp(`(^|[?&])${p[0]}($|=)`,"g"),`$1${p[1]}$2`)}return r}n(y,"pageQuery");function S(){return`${window.location.protocol}//${window.location.host}${v()+y()}`}n(S,"requestUri")},75488:(I,E,u)=>{u.d(E,{C:()=>v,x:()=>l});const l=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(y=>{document.addEventListener("DOMContentLoaded",()=>{y()})})}(),v=function(){return document.readyState==="complete"?Promise.resolve():new Promise(y=>{window.addEventListener("load",y)})}()},66963:(I,E,u)=>{u.d(E,{D:()=>S,a:()=>y});var l=u(99997),v=u(5638);async function y(o,r,g){const _=new Request(r,g);_.headers.append("X-Requested-With","XMLHttpRequest");const p=await self.fetch(_);if(p.status<200||p.status>=300)throw new Error(`HTTP ${p.status}${p.statusText||""}`);return(0,l.t)((0,l.P)(o),p),(0,v.r)(o,await p.text())}n(y,"fetchSafeDocumentFragment");function S(o,r,g=1e3){return n(async function _(p){const A=new Request(o,r);A.headers.append("X-Requested-With","XMLHttpRequest");const T=await self.fetch(A);if(T.status<200||T.status>=300)throw new Error(`HTTP ${T.status}${T.statusText||""}`);if(T.status===200)return T;if(T.status===202)return await new Promise(R=>setTimeout(R,p)),_(p*1.5);throw new Error(`Unexpected ${T.status} response status from poll endpoint`)},"poll")(g)}n(S,"fetchPoll")},1975:(I,E,u)=>{u.d(E,{a:()=>M});var l=u(36162),v=u(93875),y=u(59753),S=u(47448),o=u(57654),r=u(90420),g=u(41311),_=Object.defineProperty,p=Object.getOwnPropertyDescriptor,A=n((i,e,d,s)=>{for(var a=s>1?void 0:s?p(e,d):e,h=i.length-1,w;h>=0;h--)(w=i[h])&&(a=(s?w(e,d,a):w(a))||a);return s&&a&&_(e,d,a),a},"__decorateClass");const T=new Map,R=n(class extends HTMLElement{constructor(){super(...arguments);this.showAllQualifiersIfNoneMatch=!0,this.fuzzyMatchQualifiers=!1,this.fuzzyMatchValues=!0,this.showSubmissionOptionIfInvalidSearchTerms=!1,this.suggestionsTitle="Available filters",this.spaceBetweenValueAndDescription=!0,this.selectorOfElementToActivateOnBlur=null,this.unqualifiedSearchTermsAlwaysValid=!0,this.alphaTag=R.tagFn("Alpha"),this.betaTag=R.tagFn("Beta")}async cachedJSON(i){const e=await fetch(i,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!e.ok){const d=new Error,s=e.statusText?` ${e.statusText}`:"";throw d.message=`HTTP ${e.status}${s}`,d}return e.json()}fetchQualifierSuggestions(){const i="data-suggestable-qualifiers",e=this.searchInput.getAttribute(i);if(e===null)throw new Error(`
        ${i} is missing from ${this.searchInput.getAttribute("data-target")}.
        Either add it or override fetchQualifierSuggestions.
      `);return JSON.parse(e)}negatableQualifiers(){return JSON.parse(this.searchInput.getAttribute("data-negatable-qualifiers")||"[]")}removeNegationFromQualifierIfSupported(i){if(!i.startsWith("-"))return i;let[e,...d]=i.split(":");const s=e.substring(1);return this.negatableQualifiers().includes(s)&&(e=s),i.includes(":")&&(e+=":"),(d==null?void 0:d.length)>0?`${e}${d.join(":")}`:e}fetchSuggestionsForQualifier(i){i=this.removeNegationFromQualifierIfSupported(i);const e=`data-suggestable-${i}`,d=`data-suggestable-${i}-path`;if(this.searchInput.hasAttribute(e))return JSON.parse(this.searchInput.getAttribute(e)||"[]");if(this.searchInput.hasAttribute(d)){const s=this.searchInput.getAttribute(d);if(!s)throw new Error(`${d} not set`);return this.cachedJSON(s)}else return Promise.resolve([])}hideFilterSuggestions(){(0,v.jK)(this.searchForm),this.autocompleteDropdown.hidden=!0,this.searchInput.setAttribute("aria-expanded","false")}updateFilterSuggestionResults(){const i=this.searchInput.value,d=(i.slice(0,this.searchInput.selectionEnd).match(/(:"[^"]+"?|\S)+$/)||[""])[0].replace(/"/g,"");this.autocompleteDropdown.hidden=!1,this.searchInput.setAttribute("aria-expanded","true");let s,a;d.includes(":")?[s,...a]=d.split(":"):s=d,a!=null?this.renderValueSuggestions(s,a.join(":")):this.renderQualifierSuggestions(s),i.trim().length>0&&(!this.invalidSearchTerms()||this.showSubmissionOptionIfInvalidSearchTerms)&&!this.searchMatchesDefault()?(this.clearButton&&(this.clearButton.hidden=!1),(0,v.T_)(this.searchForm)):(this.clearButton&&(this.clearButton.hidden=!0),(0,v.QZ)(this.searchForm))}handleSelectedSuggestionResultEvent(i){var e;const d=i.target;if(d.hasAttribute("data-search")){(0,o.Bt)(this.searchForm);return}let s=d.getAttribute("data-value")||"";s[s.length-1]!==":"&&(s+=" ");const a=this.searchInput.value.slice(0,this.searchInput.selectionEnd),h=((e=a.match(/(\S+)$/))==null?void 0:e.pop())||"",w=this.searchInput.value.slice(this.searchInput.selectionEnd),j=w[0]!==" "?" ":"";if(h&&(h.startsWith("-")&&!s.startsWith("-")&&(s=`-${s}`),h.includes(","))){const L=h.split(",");L.pop();const k=s.split(":").slice(1).join(":");L.push(k||""),s=L.join(",")}const O=a.replace(/\S+$/,"");this.searchInput.value=O+s+j+w,i.preventDefault(),this.searchInput.focus();const D=O.length+s.length;this.searchInput.setSelectionRange(D,D),(0,y.f)(this.searchInput,"input")}handleFormKeydownEvent(i){if(i.detail.hotkey==="Enter"){if(this.autocompleteResults.querySelector(".js-filter-loading")||this.autocompleteResults.querySelector(".js-navigation-item.navigation-focus"))return;(0,o.Bt)(this.searchForm)}}clear(){this.searchInput.value=this.getDefaultSearch(),this.getInitialValue().trim().length===0?this.updateFilterSuggestionResults():(0,o.Bt)(this.searchForm)}renderQualifierSuggestions(i){this.showAllQualifiersIfNoneMatch?this.renderMatchingOrAllQualifierSuggestions(i):this.renderMatchingQualifierSuggestions(i)}renderMatchingOrAllQualifierSuggestions(i){const e=this.fetchQualifierSuggestions(),d=this.filterSuggestionsList(e,i,{fuzzy:this.fuzzyMatchQualifiers}).then(s=>s.length===0?e:s);this.renderSuggestionDropdown(d)}renderMatchingQualifierSuggestions(i){const e=this.filterSuggestionsList(this.fetchQualifierSuggestions(),i,{fuzzy:this.fuzzyMatchQualifiers});this.renderSuggestionDropdown(e)}renderValueSuggestions(i,e){const d=this.fetchMatchingSuggestions(i,e);this.renderSuggestionDropdown(d)}async fetchMatchingSuggestions(i,e){const d=this.fetchSuggestionsForQualifier(i),s=e.split(",").pop()||"";return(await this.filterSuggestionsList(d,s,{fuzzy:this.fuzzyMatchValues})).map(h=>({value:`${i}:${h.value}`,description:h.description}))}async filterSuggestionsList(i,e,{fuzzy:d}={fuzzy:!0}){const s=await i;let a=e.trim().toLowerCase();return!a||a.length===0?s:(a.startsWith("-")&&(a=a.slice(1)),s.filter(h=>d?h.value.toLowerCase().includes(a):h.value.toLowerCase().startsWith(a)))}renderSuggestionDropdown(i){(0,l.sY)(l.dy`
        <div>
          ${this.renderSearchWarningIfRequired()}
          ${this.shouldRenderSubmissionOption()?this.renderSearchSuggestion():""}
          ${(0,g.C)(this.renderSuggestionList(i),this.renderLoadingItem())}
        </div>
      `,this.autocompleteResults),this.postDropdownRender()}renderSearchWarningIfRequired(){const i=this.invalidSearchTerms();if(!i||i.length===0)return"";let e=l.dy``;const d=this.getFilterSupportURL();return d&&(e=l.dy`<a class="js-navigation-item js-navigation-open px-1" href="${d}" target="_blank">
        Learn more about filters.
      </a>`),l.dy`
      <div class="color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container">
        Sorry, we don't support the <span class="text-bold">${i}</span> filter yet. ${e}
      </div>
    `}getFilterSupportURL(){return this.searchInput.getAttribute("data-filter-support-url")}postDropdownRender(){}renderSearchSuggestion(){const i=this.searchInput.value.trim();return i.length===0?l.dy``:/:\s|:$/g.test(i)&&!/(?:\w+:){2,}/g.test(i)?l.dy``:l.dy`
      <div class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item" data-search="true">
        <span class="text-bold">${i}</span> - submit
      </div>
    `}invalidSearchTerms(){const i=this.fetchQualifierSuggestions().map(O=>O.value),e=new RegExp(/[^\s:]+:/),d=new RegExp(/"(?:\\"|.)*?"/),s=new RegExp(`${e.source}(?:${d.source}|[^\\s]*)`),a=new RegExp(/[^\s]+/),h=new RegExp(`${s.source}|${a.source}`,"g"),j=(this.searchInput.value.match(h)||[]).filter(O=>{O=this.removeNegationFromQualifierIfSupported(O);const D=O.indexOf(":");if(D===-1)return this.unqualifiedSearchTermsAlwaysValid?null:!i.some(L=>L.startsWith(O));{const L=O.substr(0,D+1);return!i.some(k=>k===L)}});return j.length===0?null:j.join(" ")}searchMatchesDefault(){const i=this.searchInput.value.trim().split(" ").sort(),e=this.getDefaultSearch().trim().split(" ").sort();return i.length===e.length&&i.every((d,s)=>d===e[s])}getInitialValue(){const i="data-initial-value",e=this.searchInput.getAttribute(i);if(e===null)throw new Error(`${i} is missing from search input`);return e}getDefaultSearch(){const i="data-default-value",e=this.searchInput.getAttribute(i);if(e===null)throw new Error(`${i} is missing from search input`);return e}renderSuggestionsTitle(){return l.dy`<p class="h6 width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2">
      ${this.suggestionsTitle}
    </p>`}async renderSuggestionList(i){const d=(await i).map(s=>l.dy`
          <div
            class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item"
            data-value="${s.value}"
          >
            <span class="text-bold">${s.value}</span>${this.spaceBetweenValueAndDescription?" ":""}<span
              class="autocomplete-text-qualifier color-fg-muted"
              >&nbsp;${s.description}</span
            >
            ${s.isAlpha&&this.alphaTag} ${s.isBeta&&this.betaTag}
          </div>
        `);return d.length&&d.unshift(this.renderSuggestionsTitle()),d}renderLoadingItem(){return l.dy`
      ${this.renderSuggestionsTitle()}
      <span class="js-filter-loading">loading...</span>
    `}handleSearchBlur(){this.hideFilterSuggestions(),this.selectorOfElementToActivateOnBlur&&(0,v.QZ)(document.querySelector(this.selectorOfElementToActivateOnBlur))}inputKey(i){i.key==="Escape"&&this.handleSearchBlur()}shouldRenderSubmissionOption(){return this.showSubmissionOptionIfInvalidSearchTerms||!this.invalidSearchTerms()}static tagFn(i){return l.dy`<span class="lh-condensed px-1 rounded-2 border color-border-success">${i}</span>`}},"_BaseFilterElement");let M=R;A([r.fA],M.prototype,"autocompleteDropdown",2),A([r.fA],M.prototype,"autocompleteResults",2),A([r.fA],M.prototype,"clearButton",2),A([r.fA],M.prototype,"searchForm",2),A([r.fA],M.prototype,"searchInput",2),A([(0,S.Z)({cache:T})],M.prototype,"cachedJSON",1)},10795:(I,E,u)=>{u.d(E,{M:()=>y,T:()=>S});var l=u(14840),v=u(57654);function y(e,d=!1){return S(e)||A(e,d)||M(e)||i(e)}n(y,"hasInteractions");function S(e){for(const d of e.querySelectorAll("input, textarea"))if((d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&o(d))return!0;return!1}n(S,"hasDirtyFields");function o(e){if(e instanceof HTMLInputElement&&(e.type==="checkbox"||e.type==="radio")){if(e.checked!==e.defaultChecked)return!0}else if(e.value!==e.defaultValue)return!0;return!1}n(o,"formFieldValueChanged");let r;async function g(e,d){r=e;try{await d()}finally{r=null}}n(g,"withActiveElement");function _(e){return r instanceof Element?r:e&&e.ownerDocument&&e.ownerDocument.activeElement?e.ownerDocument.activeElement:null}n(_,"getActiveElement");let p;document.addEventListener("mouseup",function(e){p=e.target});function A(e,d){const s=_(e);return s===null||d&&s===e?!1:s===e&&(0,v.sw)(s)||e.contains(s)&&!R(s)?!0:p instanceof Element&&e.contains(p)&&!!p.closest("details[open] > summary")}n(A,"hasFocus");const T="a[href], button";function R(e){var d;if(e instanceof l.Z)return!0;const s=e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement,a=(d=e.parentElement)==null?void 0:d.classList.contains("task-list-item");if(s&&a)return!0;if(!(p instanceof Element))return!1;const h=e.closest(T);if(!h)return!1;const w=p.closest(T);return h===w}n(R,"activeElementIsSafe");function M(e){return e.matches(":active:enabled")}n(M,"hasMousedown");function i(e){return!!(e.closest(".is-dirty")||e.querySelector(".is-dirty"))}n(i,"markedAsDirty")},99997:(I,E,u)=>{u.d(E,{P:()=>l,t:()=>y});function l(S){const o=[...S.querySelectorAll("meta[name=html-safe-nonce]")].map(r=>r.content);if(o.length<1)throw new Error("could not find html-safe-nonce on document");return o}n(l,"getDocumentHtmlSafeNonces");class v extends Error{constructor(o,r){super(`${o} for HTTP ${r.status}`);this.response=r}}n(v,"ResponseError");function y(S,o,r=!1){const g=o.headers.get("content-type")||"";if(!r&&!g.startsWith("text/html"))throw new v(`expected response with text/html, but was ${g}`,o);if(r&&!(g.startsWith("text/html")||g.startsWith("application/json")))throw new v(`expected response with text/html or application/json, but was ${g}`,o);const _=o.headers.get("x-html-safe");if(_){if(!S.includes(_))throw new v("response X-HTML-Safe nonce did not match",o)}else throw new v("missing X-HTML-Safe nonce",o)}n(y,"verifyResponseHtmlSafeNonce")},91385:(I,E,u)=>{u.d(E,{$S:()=>v,Fk:()=>y,sz:()=>S});var l=u(77552);function v(o,r,g){const _={hydroEventPayload:o,hydroEventHmac:r,visitorPayload:"",visitorHmac:"",hydroClientContext:g},p=document.querySelector("meta[name=visitor-payload]");p instanceof HTMLMetaElement&&(_.visitorPayload=p.content);const A=document.querySelector("meta[name=visitor-hmac]")||"";A instanceof HTMLMetaElement&&(_.visitorHmac=A.content),(0,l.b)(_,!0)}n(v,"sendData");function y(o){const r=o.getAttribute("data-hydro-view")||"",g=o.getAttribute("data-hydro-view-hmac")||"",_=o.getAttribute("data-hydro-client-context")||"";v(r,g,_)}n(y,"trackView");function S(o){const r=o.getAttribute("data-hydro-click-payload")||"",g=o.getAttribute("data-hydro-click-hmac")||"",_=o.getAttribute("data-hydro-client-context")||"";v(r,g,_)}n(S,"sendHydroEvent")},12451:(I,E,u)=>{u.d(E,{a:()=>l});function l(o,r){const g=o.closest("[data-notification-id]");r.hasAttribute("data-status")&&v(g,r.getAttribute("data-status")),r.hasAttribute("data-subscription-status")&&y(g,r.getAttribute("data-subscription-status")),r.hasAttribute("data-starred-status")&&S(g,r.getAttribute("data-starred-status"))}n(l,"updateNotificationStates");function v(o,r){o.classList.toggle("notification-archived",r==="archived"),o.classList.toggle("notification-unread",r==="unread"),o.classList.toggle("notification-read",r==="read")}n(v,"toggleNotificationStatus");function y(o,r){o.classList.toggle("notification-unsubscribed",r==="unsubscribed")}n(y,"toggleNotificationSubscriptionStatus");function S(o,r){o.classList.toggle("notification-starred",r==="starred")}n(S,"toggleNotificationStarredStatus")},5638:(I,E,u)=>{u.d(E,{r:()=>l});function l(v,y){const S=v.createElement("template");return S.innerHTML=y,v.importNode(S.content,!0)}n(l,"parseHTML")},70290:(I,E,u)=>{u.d(E,{Z:()=>l});function l(v){var y,S;const o=(S=(y=v.head)==null?void 0:y.querySelector('meta[name="expected-hostname"]'))==null?void 0:S.content;if(!o)return!1;const r=o.replace(/\.$/,"").split(".").slice(-2).join("."),g=v.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return r!==g}n(l,"detectProxySite")},31579:(I,E,u)=>{u.d(E,{Z:()=>v});class l{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}n(l,"NoOpStorage");function v(y,S={throwQuotaErrorsOnSet:!1},o=window){let r;try{r=o[y]}catch{r=new l}const{throwQuotaErrorsOnSet:g}=S;function _(T){try{return r.getItem(T)}catch{return null}}n(_,"getItem");function p(T,R){try{r.setItem(T,R)}catch(M){if(g&&M.message.toLowerCase().includes("quota"))throw M}}n(p,"setItem");function A(T){try{r.removeItem(T)}catch{}}return n(A,"removeItem"),{getItem:_,setItem:p,removeItem:A}}n(v,"safeStorage")},30855:(I,E,u)=>{u.d(E,{LS:()=>y,cl:()=>S,rV:()=>v});var l=u(31579);const{getItem:v,setItem:y,removeItem:S}=(0,l.Z)("sessionStorage")},71692:(I,E,u)=>{u.d(E,{Ak:()=>i,F2:()=>D,F6:()=>h,FP:()=>R,LD:()=>T,OE:()=>A,Po:()=>p,QE:()=>S,Rl:()=>j,Xk:()=>s,Ys:()=>a,aN:()=>O,wP:()=>w});var l=u(30855),v=u(97261),y=u(77552);const S=Object.freeze({INITIAL:"soft-nav:initial",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",START:"soft-nav:start",END:"soft-nav:end"}),o="soft-navigation-fail",r="soft-navigation-referrer",g="soft-navigation-marker",_="reload";function p(){return(0,l.rV)(g)==="1"}n(p,"inSoftNavigation");function A(){return Boolean(e())}n(A,"hasSoftNavFailure");function T(){performance.mark(g),(0,l.LS)(g,"1"),(0,l.LS)(r,(0,v.S)()||window.location.href)}n(T,"startSoftNav");function R(){(0,l.LS)(g,"0")}n(R,"endSoftNav");function M(){(0,l.LS)(g,"0"),(0,l.cl)(r),(0,l.cl)(o)}n(M,"clearSoftNav");function i(L){(0,l.LS)(o,L||_)}n(i,"setSoftNavFailReason");function e(){return(0,l.rV)(o)}n(e,"getSoftNavFailReason");let d=0;function s(){d+=1,document.dispatchEvent(new CustomEvent(S.SUCCESS,{detail:d}))}n(s,"softNavSucceeded");function a(){const L=e()||_;document.dispatchEvent(new CustomEvent(S.ERROR,{detail:L})),d=0,M(),(0,y.b)({turboFailureReason:L})}n(a,"softNavFailed");function h(){document.dispatchEvent(new CustomEvent(S.INITIAL)),d=0,M()}n(h,"softNavInitial");function w(){return(0,l.rV)(r)||document.referrer}n(w,"getSoftNavReferrer");function j(){return performance.getEntriesByName(g).length===0?0:performance.measure(g,g).duration}n(j,"getDurationSinceLastSoftNav");function O(){document.dispatchEvent(new Event(S.START))}n(O,"beginProgressBar");function D(){document.dispatchEvent(new Event(S.END))}n(D,"completeProgressBar")},77552:(I,E,u)=>{u.d(E,{b:()=>S});var l=u(70290),v=u(75488);let y=[];function S(p,A=!1){p.timestamp===void 0&&(p.timestamp=new Date().getTime()),p.loggedIn=_(),y.push(p),A?g():r()}n(S,"sendStats");let o=null;async function r(){await v.C,o==null&&(o=window.requestIdleCallback(g))}n(r,"scheduleSendStats");function g(){var p,A;if(o=null,!y.length||(0,l.Z)(document))return;const T=(A=(p=document.head)==null?void 0:p.querySelector('meta[name="browser-stats-url"]'))==null?void 0:A.content;if(!T)return;const R=JSON.stringify({stats:y});try{navigator.sendBeacon&&navigator.sendBeacon(T,R)}catch{}y=[]}n(g,"flushStats");function _(){var p,A;return!!((A=(p=document.head)==null?void 0:p.querySelector('meta[name="user-login"]'))==null?void 0:A.content)}n(_,"isLoggedIn"),document.addEventListener("pagehide",g),document.addEventListener("visibilitychange",g)},55526:(I,E,u)=>{u.d(E,{x:()=>v});let l;function v(S){if(y(),!S)return;const o=document.createElement("div");o.innerHTML=S,document.body&&document.body.append(o);const r=o.querySelector("button");r&&r.addEventListener("click",y,{once:!0}),document.addEventListener("keydown",g=>{g.key==="Escape"&&y()&&g.stopImmediatePropagation()}),l=o}n(v,"toggleToast");function y(){return l?(l.remove(),l=null,!0):!1}n(y,"removeToast")},88751:(I,E,u)=>{var l=u(1975),v=u(90420),y=Object.defineProperty,S=Object.getOwnPropertyDescriptor,o=n((t,c,f,m)=>{for(var b=m>1?void 0:m?S(c,f):c,x=t.length-1,P;x>=0;x--)(P=t[x])&&(b=(m?P(c,f,b):P(b))||b);return m&&b&&y(c,f,b),b},"__decorateClass");let r=n(class extends l.a{async fetchRepositorySuggestions(){return this.cachedJSON(this.searchInput.getAttribute("data-suggested-repositories-path"))}async fetchOrgSuggestions(){return this.cachedJSON(this.searchInput.getAttribute("data-suggested-owners-path"))}async fetchAuthorSuggestions(){return this.cachedJSON(this.searchInput.getAttribute("data-suggested-authors-path"))}async fetchReasonSuggestions(){return JSON.parse(this.searchInput.getAttribute("data-suggestable-reasons"))}async fetchTypeSuggestions(){return JSON.parse(this.searchInput.getAttribute("data-suggestable-types"))}async fetchSuggestionsForQualifier(t){switch(t){case"reason":return this.fetchReasonSuggestions();case"repo":return this.fetchRepositorySuggestions();case"org":return this.fetchOrgSuggestions();case"author":return this.fetchAuthorSuggestions();case"is":return this.fetchTypeSuggestions();default:return[]}}invalidSearchTerms(){const t=this.fetchQualifierSuggestions().map(m=>m.value),f=this.searchInput.value.split(/\s+/).filter(m=>{const b=m.indexOf(":");if(b===-1)return!t.some(x=>x.startsWith(m));{const x=m.substr(0,b+1);return!t.some(P=>P===x)}});return f.length===0?null:f.join(" ")}handleInputFocusIn(){this.fetchAuthorSuggestions(),this.fetchOrgSuggestions(),this.fetchRepositorySuggestions(),this.updateFilterSuggestionResults()}},"NotificationFilterElement");r=o([v.Ih],r);var g=u(66963);function _(t,c){if(!!t){t.hidden=!c;for(const f of t.querySelectorAll("button"))f.disabled=!c}}n(_,"toggleBulkActionMenu");function p({markSelected:t,markAll:c}){A({markSelected:t,markAll:c}),_(document.querySelector(".js-notifications-mark-selected-actions"),t),_(document.querySelector(".js-notifications-mark-all-actions"),c)}n(p,"toggleBulkActionMenus");function A({markSelected:t,markAll:c}){const f=document.querySelector(".js-select-all-text");if(!f)return;const m=document.querySelector(".js-count-selected-text"),b=document.querySelector(".js-all-count-selected-text");f.hidden=t||c,m.hidden=!t,b.hidden=!c}n(A,"toggleSelectAll");function T(t,c,f){const m=document.createElement("input");return m.setAttribute("type","hidden"),m.setAttribute("name",c),m.setAttribute("value",f),t.appendChild(m)}n(T,"addHiddenInputToForm");function R(){const t=document.querySelector(".js-notifications-container .js-check-all-container");for(const c of t.querySelectorAll(".js-notifications-mark-selected-actions .js-notification-bulk-action form"))M(c);i().length===0?p({markSelected:!1,markAll:!1}):p({markSelected:!0,markAll:!1})}n(R,"updateSelectedNotificationsInBulkActionForms");function M(t){for(const c of t.querySelectorAll("[data-bulk-notification]"))c.remove();for(const c of i())T(t,c.name,c.value).setAttribute("data-bulk-notification","")}n(M,"addCheckedNotificationsToForm");function i(){return document.querySelectorAll(".js-notifications-container .js-check-all-container [data-check-all-item]:checked")}n(i,"getCheckedElements");var e=u(93875),d=u(75343);function s(t,c){const f=t||h();if(!f)return{};const m=f.querySelector(c||".js-notifications-list-item.navigation-focus");return m instanceof HTMLElement?{id:m.getAttribute("data-notification-id"),position:w(f).indexOf(m)}:{}}n(s,"getCurrentFocus");function a({id:t,position:c},f){const m=f||h();if(!(m instanceof HTMLElement))return;const b=w(m);let x;t&&(x=b.find(P=>P.getAttribute("data-notification-id")===t)),!x&&c!=null&&(x=b[Math.min(c,b.length-1)]),x instanceof HTMLElement&&(0,e.T_)(m,x)}n(a,"restoreFocus");function h(){return document.querySelector(".js-notifications-list .js-navigation-container")}n(h,"getNotificationsList");function w(t){return Array.from(t.querySelectorAll(".js-navigation-item")).filter(d.Z)}n(w,"getItems");var j=u(10795);const O=500;let D=1;function L(){return D=(D+1)%1e4,D}n(L,"getUpdateId");function k(t){return D===t}n(k,"isValidUpdateId");function H(){L()}n(H,"invalidateUpdates");function W(t){return t.querySelector(".js-notifications-container").getAttribute("data-url")}n(W,"getUpdateUrl");function J(t){return t===W(document)}n(J,"isValidUpdateUrl");async function U(t=L()){const c=W(document);let f;if(!k(t)||(await new Promise(b=>setTimeout(b,O)),!k(t)))return;try{if(!J(c))return;f=await(0,g.a)(document,c)}catch{return}if(!k(t))return;const m=s();tt(f),a({position:m.position}),R()}n(U,"updateNotifications");function tt(t){!J(W(t))||(C(".js-notification-inboxes",t),C(".js-notification-sidebar-filters",t),C(".js-notification-sidebar-repositories",t),C(".js-notifications-list",t),C(".js-notifications-mark-selected-actions",t),C(".js-notifications-mark-all-actions",t),C(".js-notifications-list-paginator-counts",t),C(".js-notifications-list-paginator-buttons",t),C(".js-notifications-list-protip",t,(c,f)=>!(c.children.length>0&&f.children.length>0)))}n(tt,"updateContent");function C(t,c,f){const m=c.querySelector(t);if(!m)return;const b=document.querySelector(t);!b||(0,j.M)(b,!0)||m.outerHTML!==b.outerHTML&&(f&&!f(m,b)||b.replaceWith(m))}n(C,"replaceContent");var Q=u(57654),et=u(16246),nt=u(46073),q=u(64463),N=u(59753),V=u(65935),st=u(55526),ot=u(91385),X=u(12451),it=u(71692);(0,q.N7)(".js-bulk-action-toasts[data-job-in-progress]",()=>{z()}),(0,q.N7)(".js-unwatch-suggestions[data-hydro-view]",t=>{t instanceof HTMLElement&&(0,ot.Fk)(t)});async function z(t=!1){const c=document.querySelector(".js-bulk-action-toasts").getAttribute("data-job-url");if(!c)throw new Error("could not get job url");F(t?".js-bulk-actions-already-processing-toast":".js-bulk-actions-processing-toast");try{(await(0,g.D)(c,{headers:{accept:"application/json"}})).status===200&&(F(".js-bulk-actions-succeeded-toast"),U())}catch{F(".js-bulk-actions-failed-toast")}}n(z,"displayBulkProcessingToast");function F(t){(0,st.x)(document.querySelector(t).innerHTML)}n(F,"showBulkActionToast"),(0,N.on)("change",".js-notifications-mark-all-prompt",function(t){const c=t.currentTarget.checked;setTimeout(function(){const f=document.querySelectorAll(".js-notifications-mark-all");for(const m of f)m&&(m.hidden=!c)},0)}),(0,N.on)("click",".js-notifications-mark-all",function(){p({markSelected:!1,markAll:!0})}),(0,N.on)("click",".js-notifications-unmark-all",function(){(0,Q.Se)(document.querySelector(".js-notifications-mark-all-prompt"),!1)}),(0,q.N7)(".js-notifications-blankslate",{subscribe:t=>(0,et.RB)(t,"socket:message",async function(c){const f=c.currentTarget.getAttribute("data-url");if(!f)throw new Error("could not get url");const m=await fetch(f,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!m.ok)return;(await m.json()).notifications_exist&&U()})}),(0,N.on)("pjax:end","#js-repo-pjax-container",()=>{H()}),document.addEventListener(it.QE.SUCCESS,function(){H()});async function Z(t){try{await t.text()}catch{}}n(Z,"performRequest"),(0,V.AC)(".js-notification-action form",async function(t,c){const f=t.hasAttribute("data-update"),m=t.closest(".js-notification-bulk-action")!=null,b=t.hasAttribute("data-redirect-to-inbox-on-submit"),x=t.hasAttribute("data-close-onboarding-element");if(b){await Z(c);const B=document.querySelector(".js-notifications-back-to-inbox");B&&B.click();return}const P=L();if(m){const B=s();for(const $ of i())(0,X.a)($,t),f&&(0,Q.Se)($,!1);a(B);try{(await c.text()).status===202&&(z(),x&&(document.querySelector(".js-onboarding-dialog").removeAttribute("open"),document.querySelector(".js-dismiss-notification-onboarding-notice").click()))}catch($){$.response.status===403?F(".js-bulk-actions-unsupported-query-toast"):$.response.status===409&&z(!0)}}else{const B=s();(0,X.a)(t,t),a(B),await Z(c)}f&&U(P)}),(0,N.on)("change",".js-notification-bulk-action-check-item",function(){R()}),(0,N.on)("navigation:keydown",".js-notifications-list-item",function(t){if(!!(0,nt.Zf)(t.detail.originalEvent)&&t.detail.hotkey==="x"){const c=t.currentTarget.querySelector(".js-notification-bulk-action-check-item");(0,Q.Se)(c,!c.checked),t.preventDefault(),t.stopPropagation()}}),(0,N.on)("click",".js-custom-inbox-create-button",t=>{const c=t.currentTarget,f=Y(c),m=f.closest(".js-custom-inbox-details");let b="";m.classList.contains("js-save-search-details")&&(b=document.querySelector(".js-notification-search-input").value),G(f,b)}),(0,V.AC)(".js-grouped-notifications-mark-all-read-button",async function(t,c){const f=t.querySelector("button");f.disabled=!0,F(".js-bulk-actions-processing-toast");try{if((await c.text()).status===200){F(".js-bulk-actions-succeeded-toast");const b=t.closest(".js-notifications-group").querySelectorAll(".js-notifications-list-item");for(const x of b)x.classList.add("notification-archived")}}catch(m){f.disabled=!1,m.response.status===503&&F(".js-bulk-actions-failed-toast")}}),(0,V.AC)(".js-custom-inbox-form",async function(t,c){try{await c.json()}catch{return}const f=Y(t);U(),K(f)}),(0,q.N7)(".js-custom-inbox-details",t=>{t.addEventListener("toggle",()=>{const c=t.querySelector(".js-custom-inbox-dialog");if(!t.hasAttribute("open")){rt(c);return}if(!t.classList.contains("js-save-search-details")){K(c);return}const f=document.querySelector(".js-notification-search-input");K(c,f.value)})});async function K(t,c=""){const f=t.getAttribute("src");if(!f)throw new Error("could not get src");let m;try{m=await(0,g.a)(document,f)}catch{return}const b=t.querySelector(".js-custom-inbox-dialog-content");t.querySelector(".js-custom-inbox-dialog-spinner").hidden=!0,b.innerHTML="",b.appendChild(m);const x=document.querySelector(".js-custom-inbox-max-filters-flash");c.length>0&&x?x.hidden=!1:c.length>0&&G(t,c)}n(K,"updateDialogContent");function G(t,c=""){if(c.length>0){const x=t.querySelector(".js-custom-inbox-query-string-input");x.value=c}const f=t.querySelector(".js-custom-inbox-create-form-container"),m=f.querySelector(".js-custom-inbox-name-input"),b=t.querySelector(".js-custom-inbox-create-button");b.disabled=!0,f.hidden=!1,m.focus()}n(G,"displayCreateNewInbox");function rt(t){t.querySelector(".js-custom-inbox-dialog-spinner").hidden=!1,t.querySelector(".js-custom-inbox-dialog-content").innerHTML=""}n(rt,"resetDialogContent");function Y(t){return t.closest(".js-custom-inbox-details").querySelector(".js-custom-inbox-dialog")}n(Y,"detailsDialogFromElement"),(0,q.N7)(".js-notifications-group .notification-archived",{constructor:HTMLElement,add:at});function at(t){var c;const f=t.closest(".js-notifications-group"),m=(c=t.parentElement)==null?void 0:c.children;if(!m)return;const b=Array.from(m).every(P=>P.classList.contains("notification-archived")),x=f.querySelector(".js-notifications-group-view-all")==null;b&&x&&f.remove()}n(at,"updateGroupDisplay")}},I=>{var E=n(l=>I(I.s=l),"__webpack_exec__");I.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_lit-html_directives_until_js-node_modules_github_catalyst_lib_index_js-n-0b48d4","app_assets_modules_github_form_ts-app_assets_modules_github_navigation_ts"],()=>E(88751));var u=I.O()}]);})();

//# sourceMappingURL=notifications-v2-ac099322534e.js.map